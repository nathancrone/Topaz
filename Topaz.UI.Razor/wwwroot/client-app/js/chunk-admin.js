(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-admin"],{"063a":function(t,e,r){},1245:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h1",[t._v("hello world")])},s=[],a={name:"AdminTerritoryActivity",data:function(){return{}}},i=a,o=r("2877"),c=Object(o["a"])(i,n,s,!1,null,null,null);e["default"]=c.exports},"50ed":function(t,e,r){"use strict";var n=r("063a"),s=r.n(n);s.a},db8d:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"d-flex"},[r("div",{staticClass:"flex-grow-1 mb-2"}),t._m(0)]),t._l(t.properties,(function(e){return r("div",{key:"card"+e.inaccessiblePropertyId,class:{card:!0}},[r("ul",{staticClass:"bg-light list-group list-group-flush"},[r("a",{staticClass:"d-flex justify-content-between list-group-item list-group-item-action",attrs:{href:"#"},on:{click:function(r){return r.preventDefault(),t.toggle(e)}}},[r("div",[r("strong",[t._v(t._s(e.streetNumbers)+" "+t._s(e.street)),e.propertyName?[t._v(" ("+t._s(e.propertyName)+")")]:t._e()],2)]),r("div",[r("span",{staticClass:"badge badge-secondary mr-2"},[t._v(t._s(e.contacts.length))]),r("i",{class:{arrow:!0,down:!e.isExpanded,up:e.isExpanded}})])])]),r("div",{class:{"card-body":!0,collapse:!0,show:e.isExpanded}},[0!==e.errors.length?r("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[r("ul",t._l(e.errors,(function(e,n){return r("li",{key:n},[t._v(t._s(e))])})),0)]):t._e(),0!==e.warnings.length?r("div",{staticClass:"alert alert-warning",attrs:{role:"alert"}},[r("ul",t._l(e.warnings,(function(e,n){return r("li",{key:n},[t._v(t._s(e))])})),0)]):t._e(),0===e.fileContacts.length&&0===e.contacts.length?r("form",[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"fileInput"+e.inaccessiblePropertyId}},[t._v("Import File")]),r("input",{staticClass:"form-control-file",attrs:{type:"file",accept:".csv",id:"fileInput"+e.inaccessiblePropertyId},on:{change:function(r){return t.changeFile(r,e.inaccessiblePropertyId)}}})]),e.file?r("a",{staticClass:"btn btn-primary",attrs:{href:"#",role:"button"},on:{click:function(r){return r.preventDefault(),t.uploadFile(e.inaccessiblePropertyId)}}},[t._v("Upload")]):t._e()]):r("table",{staticClass:"table table-bordered"},[t._m(1,!0),r("tbody",[t._l(e.fileContacts,(function(e,n){return[r("tr",{key:"row-contact-"+n},[r("td",[t._v(" "+t._s(e.firstName)+" ")]),r("td",[t._v(" "+t._s(e.lastName)+" ")]),r("td",[t._v(" "+t._s(e.middleInitial)+" ")]),r("td",[t._v(" "+t._s(e.age)+" ")]),r("td",[t._v(" "+t._s(e.mailingAddress1)+" ")]),r("td",[t._v(" "+t._s(e.mailingAddress2)+" ")]),r("td",[t._v(" "+t._s(e.postalCode)+" ")]),r("td",[t._v(" "+t._s(e.phoneNumber)+" ")]),r("td",[t._v(" "+t._s(e.phoneType)+" ")])]),0!==e.errors.length||0!==e.warnings.length?r("tr",{key:"row-message-"+n},[r("td",{attrs:{colspan:"9"}},[0!==e.errors.length?r("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[r("h5",{staticClass:"alert-heading"},[t._v("Errors")]),r("ul",t._l(e.errors,(function(e,s){return r("li",{key:"err-"+n+"-"+s},[t._v(t._s(e))])})),0)]):t._e(),0!==e.warnings.length?r("div",{staticClass:"alert alert-warning",attrs:{role:"alert"}},[r("h5",{staticClass:"alert-warning"},[t._v("Warnings")]),r("ul",t._l(e.warnings,(function(e,s){return r("li",{key:"warn-"+n+"-"+s},[t._v(t._s(e))])})),0)]):t._e()])]):t._e()]})),t._l(e.contacts,(function(e,n){return r("tr",{key:n},[r("td",[t._v(" "+t._s(e.firstName)+" ")]),r("td",[t._v(" "+t._s(e.lastName)+" ")]),r("td",[t._v(" "+t._s(e.middleInitial)+" ")]),r("td",[t._v(" "+t._s(e.age)+" ")]),r("td",[t._v(" "+t._s(e.mailingAddress1)+" ")]),r("td",[t._v(" "+t._s(e.mailingAddress2)+" ")]),r("td",[t._v(" "+t._s(e.postalCode)+" ")]),r("td",[t._v(" "+t._s(e.phoneNumber)+" ")]),r("td",[e.phoneType?[t._v(t._s(e.phoneType.name))]:t._e()],2)])}))],2)]),0!==e.fileContacts.length||0===e.contacts.length||e.removeContacts?t._e():r("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){t.preventDefault(),e.removeContacts=!0}}},[t._v("Remove Contacts")]),0===e.fileContacts.length&&0!==e.contacts.length&&e.removeContacts?r("div",{staticClass:"alert alert-warning",attrs:{role:"alert"}},[r("h5",{staticClass:"alert-heading"},[t._v("Remove Contacts")]),r("p",[t._v("Are you sure you want to remove these "+t._s(e.contacts.length)+" contacts from this property?")]),r("hr"),r("button",{staticClass:"btn btn-secondary btn-sm mr-1",attrs:{type:"button"},on:{click:function(t){t.preventDefault(),e.removeContacts=!1}}},[t._v("Cancel")]),r("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:function(r){return r.preventDefault(),t.removeContactsConfirm(e.inaccessiblePropertyId)}}},[t._v("Confirm")])]):t._e(),e.fileContacts.length>e.rowErrors?r("div",{class:{alert:!0,"alert-success":!(e.rowErrors|e.rowWarnings),"alert-warning":e.rowErrors|e.rowWarnings},attrs:{role:"alert"}},[r("h5",{staticClass:"alert-heading"},[t._v("Please Review...")]),e.rowErrors|e.rowWarnings?r("p",[t._v("There are "+t._s(e.fileContacts.length)+" contacts in this file. "+t._s(e.rowErrors)+" contacts have errors and will not be imported. "+t._s(e.rowWarnings)+" contacts with warnings have some information that cannot be imported. Are you sure you want to import these contacts?")]):r("p",[t._v("There are "+t._s(e.fileContacts.length)+" contacts in this file. Are you ready to import these contacts?")]),r("hr"),r("button",{staticClass:"btn btn-secondary btn-sm mr-1",attrs:{type:"button"},on:{click:function(r){return r.preventDefault(),t.fileContactCancel(e.inaccessiblePropertyId)}}},[t._v("Cancel")]),r("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:function(r){return r.preventDefault(),t.fileContactConfirm(e.inaccessiblePropertyId)}}},[t._v("Confirm")])]):t._e()])])}))],2)},s=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex-grow-1 flex-md-grow-0 mb-2"},[r("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",[t._v(" First Name ")]),r("th",[t._v(" Last Name ")]),r("th",[t._v(" Middle Initial ")]),r("th",[t._v(" Age ")]),r("th",[t._v(" Address 1 ")]),r("th",[t._v(" Address 2 ")]),r("th",[t._v(" Postal Code ")]),r("th",[t._v(" Phone ")]),r("th",[t._v(" Phone Type ")])])])}],a=(r("7db0"),r("4160"),r("a9e3"),r("159b"),r("2909")),i=(r("96cf"),r("1da1")),o=r("f2b3"),c={name:"AdminContactsImport",props:{id:{type:Number,default:0}},data:function(){return{properties:[]}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.loadProperties();case 2:case"end":return e.stop()}}),e)})))()},methods:{loadProperties:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].getTerritoryProperties(t.id);case 2:r=e.sent,r.forEach((function(t){t.isExpanded=!1,t.errors=[],t.warnings=[],t.rowErrors=0,t.rowWarnings=0,t.file=null,t.fileContacts=[],t.removeContacts=!1,t.contacts=t.contacts?t.contacts:[]})),t.properties=Object(a["a"])(r);case 5:case"end":return e.stop()}}),e)})))()},toggle:function(t){t.isExpanded=!t.isExpanded},changeFile:function(t,e){var r=this.properties.find((function(t){return t.inaccessiblePropertyId===e}));r.file=0!==t.target.files.length?t.target.files[0]:null},uploadFile:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.properties.find((function(e){return e.inaccessiblePropertyId===t})),r.next=3,o["a"].uploadContactsCsv(n.file);case 3:s=r.sent,n.errors=s.errors,n.warnings=s.warnings,n.rowErrors=s.rowErrors,n.rowWarnings=s.rowWarnings,n.fileContacts=s.rows;case 9:case"end":return r.stop()}}),r)})))()},fileContactCancel:function(t){var e=this.properties.find((function(e){return e.inaccessiblePropertyId===t}));e.errors=[],e.warnings=[],e.rowErrors=0,e.rowWarnings=0,e.file=null,e.fileContacts=[]},fileContactConfirm:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.properties.find((function(e){return e.inaccessiblePropertyId===t})),r.next=3,o["a"].uploadContacts(t,n.fileContacts);case 3:s=r.sent,n.errors=[],n.warnings=[],n.rowErrors=0,n.rowWarnings=0,n.file=null,n.fileContacts=[],n.contacts=s;case 11:case"end":return r.stop()}}),r)})))()},removeContactsConfirm:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.properties.find((function(e){return e.inaccessiblePropertyId===t})),r.next=3,o["a"].removePropertyContactList(t);case 3:n.errors=[],n.warnings=[],n.rowErrors=0,n.rowWarnings=0,n.file=null,n.fileContacts=[],n.contacts=[],n.removeContacts=!1;case 11:case"end":return r.stop()}}),r)})))()}}},l=c,u=(r("50ed"),r("2877")),d=Object(u["a"])(l,n,s,!1,null,"d30bb636",null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-admin.js.map